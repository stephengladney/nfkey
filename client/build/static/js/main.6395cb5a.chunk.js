(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{331:function(n,e,t){},332:function(n,e,t){},359:function(n,e){},378:function(n,e){},383:function(n,e){},385:function(n,e){},443:function(n,e){},475:function(n,e){},477:function(n,e){},498:function(n,e){},499:function(n,e){},523:function(n,e){},605:function(n,e,t){"use strict";t.r(e);var i=t(17),a=t.n(i),r=t(306),c=t.n(r),s=(t(331),t(48)),o=(t(332),t(110)),d=t.n(o);function l(n,e){return d.a.get("api/link?host=".concat(n,"&path=").concat(e),{})}var u,f=t(11),h=t(25),p=t(1),m=t.n(p),x=t(26),j=t(132),b=t(307),O=t.n(b),w=t(308),g=t.n(w),v=t(323),y=["function name() view returns (string)","function symbol() view returns (string)","function balanceOf(address) view returns (uint)"],k=new O.a({network:"mainnet",cacheProvider:!1,theme:"dark",providerOptions:{coinbasewallet:{package:g.a,options:{appName:"NFKey",infuraId:"8960b2db7cf64628b129f95f6cbc8c53"}},walletconnect:{package:v.a,options:{infuraId:"8960b2db7cf64628b129f95f6cbc8c53"}}}});function S(){return T.apply(this,arguments)}function T(){return(T=Object(f.a)(m.a.mark((function n(){var e;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k.connect();case 2:e=n.sent,u=new j.a.providers.Web3Provider(e);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function _(n){return C.apply(this,arguments)}function C(){return(C=Object(f.a)(m.a.mark((function n(e){var t,i,a;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=u.getSigner(),n.next=3,t.signMessage(e);case 3:return i=n.sent,n.next=6,t.getAddress();case 6:return a=n.sent,n.abrupt("return",{address:a,message:e,signature:i});case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function E(n){var e=n.address,t=n.message,i=n.signature;return e===j.a.utils.verifyMessage(t,i)}function F(){return(F=Object(f.a)(m.a.mark((function n(e){var t,i,a;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=new j.a.providers.JsonRpcProvider("https://mainnet.infura.io/v3/".concat("8960b2db7cf64628b129f95f6cbc8c53")),i=new j.a.Contract(e,y,t),n.next=4,i.name();case 4:return a=n.sent,n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var R,N,L,z,M,A,I,P,U,V,W,q,K,B,D,J,Z,H,$,G,Q,X,Y,nn,en,tn,an="loading",rn="verifying",cn="verified",sn="newlink-form",on="newlink-success",dn="homepage",ln="This URL is available!",un="Sorry, this URL is already taken.",fn="URL path must be at least 3 characters.",hn="Invalid URL path",pn="Checking availability...",mn=" ",xn={URL_PATH:/^[a-zA-Z0-9-_]*$/,DESTINATION_URL:/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,18}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/,SMART_CONTRACT:/^0x[a-fA-F0-9]{40}$/},jn=t(10),bn=x.a.div(R||(R=Object(h.a)(["\n  text-align: center;\n  width: 100%;\n\n  @media screen and (max-width: 768px) {\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    position: absolute;\n    /* top: 30%; */\n  }\n  @media screen and (min-width: 1025px) {\n    position: absolute;\n    top: 25%;\n  }\n"]))),On=x.a.h1(N||(N=Object(h.a)(['\n  font-family: "Archivo Black";\n  font-size: 72px;\n  color: #fff;\n  /* margin-bottom: 0px; */\n']))),wn=x.a.h2(L||(L=Object(h.a)(['\n  color: #ddd;\n  font-family: "Raleway";\n']))),gn=(x.a.span(z||(z=Object(h.a)(['\n  display: block;\n  color: #aaa;\n  font-family: "Mukta";\n  margin-top: 40px;\n  font-size: 20px;\n']))),x.a.span(M||(M=Object(h.a)(["\n  color: #0df;\n"])))),vn=x.a.button(A||(A=Object(h.a)(['\n  background-color: transparent;\n  border: 2px solid #ddd;\n  color: #ddd;\n  cursor: pointer;\n  font-family: "Mukta";\n  font-size: 1em;\n  font-weight: 700;\n  margin-top: 50px;\n  text-transform: uppercase;\n  padding: 15px;\n'])));function yn(n){var e=String(n).substring(0,1).toLowerCase();return"a"===e||"e"===e||"i"===e||"o"===e||"u"===e}function kn(n){var e=n.link,t=n.setView,a=Object(i.useState)(),r=Object(s.a)(a,2),c=r[0],o=r[1],l=Object(i.useState)(!1),u=Object(s.a)(l,2),h=u[0],p=u[1],x=Object(i.useState)(!1),j=Object(s.a)(x,2),b=j[0],O=j[1],w=Object(i.useState)(),g=Object(s.a)(w,2),v=g[0],y=g[1],k=function(){var n=Object(f.a)(m.a.mark((function n(){var e;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,S();case 3:return n.next=5,_("Welcome to NFKey!\n\nPlease click Sign to verify that you own this wallet. This will not result in a blockchain transaction or incur any gas fees.");case 5:E(e=n.sent)&&o(e.address),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0),p(!1),O(!0);case 14:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();return Object(i.useEffect)((function(){c&&(p(!0),d.a.get("api/verify?link_id=".concat(e.id,"&wallet_address=").concat(c)).then((function(n){n.data.allow?t(cn):(p(!1),O(!0))})))}),[c]),Object(i.useEffect)((function(){alert(e.requirement_smart_contract),function(n){return F.apply(this,arguments)}(e.requirement_smart_contract).then((function(n){return y(n)}))}),[e]),Object(jn.jsxs)(bn,{children:[Object(jn.jsxs)(On,{children:["NF",Object(jn.jsx)(gn,{children:"Key"})]}),h&&Object(jn.jsx)(wn,{children:"Verifying..."}),b&&Object(jn.jsx)(wn,{children:"Verification failed."}),!b&&!h&&Object(jn.jsxs)(i.Fragment,{children:[Object(jn.jsxs)(wn,{children:["This content requires ownership of"," ",v&&yn(v)?"an ":"a ",v||"specific ERC-721"," token."]}),Object(jn.jsx)(wn,{children:"Please verify ownership of the required token(s)."}),Object(jn.jsx)(vn,{onClick:k,children:"Verify Ownership"})]})]})}var Sn,Tn=x.a.div(I||(I=Object(h.a)(["\n  cursor: default;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  width: 100%;\n\n  @media screen and (max-width: 768px) {\n    /* margin-top: 15%; */\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    position: absolute;\n    top: 25%;\n    width: 100%;\n  }\n\n  @media screen and (min-width: 1025px) {\n    position: absolute;\n    top: 25%;\n  }\n"]))),_n=x.a.h1(P||(P=Object(h.a)(['\n  font-family: "Archivo Black";\n  font-size: 72px;\n  color: #eee;\n  margin-bottom: 0px;\n']))),Cn=x.a.span(U||(U=Object(h.a)(["\n  color: #0cf;\n"]))),En=x.a.a(V||(V=Object(h.a)(["\n  text-decoration: none;\n\n  :hover {\n    text-decoration: none;\n  }\n"]))),Fn=x.a.h2(W||(W=Object(h.a)(['\n  color: #ddd;\n  font-family: "Raleway";\n  padding-left: 20px;\n  padding-right: 20px;\n\n  @media screen and (max-width: 768px) {\n    font-size: 1.5em;\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    font-size: 1.8em;\n  }\n\n  @media screen and (min-width: 1025px) {\n    font-size: 2em;\n  }\n']))),Rn=x.a.div(q||(q=Object(h.a)(["\n  @media screen and (max-width: 768px) {\n    width: ",";\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    max-width: 80%;\n  }\n\n  @media screen and (min-width: 1025px) {\n    max-width: 700px;\n  }\n"])),(function(n){return n.customMobileWidth?n.customMobileWidth:null})),Nn=x.a.span(K||(K=Object(h.a)(['\n  color: #ddd;\n  font-family: "Raleway";\n  font-size: 18px;\n']))),Ln=x.a.input(B||(B=Object(h.a)(["\n  background-color: #112;\n  color: #ddd;\n  border: 1px solid ",';\n  font-family: "Mukta";\n  font-size: 1em;\n  padding: 6px;\n  padding-left: 10px;\n\n  @media screen and (min-width: 1025px) {\n    width: ',";\n  }\n"])),(function(n){return n.isError?"#d36":"#ddd"}),(function(n){return n.customWidth?n.customWidth:"100%"})),zn=x.a.span(D||(D=Object(h.a)(["\n  color: ",';\n  font-family: "Mukta";\n  font-size: 14px;\n  justify-self: flex-start;\n  white-space: pre;\n'])),(function(n){return n.isError?"#d36":n.isSuccess?"#3d6":"#aaa"})),Mn=x.a.label(J||(J=Object(h.a)(['\n  color: #ddd;\n  margin-right: 15px;\n  font-family: "Mukta";\n  font-size: 1em;\n  font-weight: 700;\n  text-transform: uppercase;\n']))),An=x.a.div(Z||(Z=Object(h.a)(["\n  margin-top: 40px;\n"]))),In=x.a.div(H||(H=Object(h.a)(["\n  display: flex;\n  /* justify-content: flex-end; */\n  align-items: center;\n\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n    justify-content: center;\n    width: 100%;\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    justify-content: flex-end;\n  }\n\n  @media screen and (min-width: 1025px) {\n    justify-content: flex-end;\n  }\n"]))),Pn=x.a.div($||($=Object(h.a)(["\n  display: flex;\n\n  /* text-align: left; */\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n    align-items: stretch;\n    /* grid-row-start: 2; */\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    grid-column-start: 2;\n  }\n\n  @media screen and (min-width: 1025px) {\n    justify-content: flex-start;\n    grid-column-start: 2;\n  }\n"]))),Un=x.a.div(G||(G=Object(h.a)(["\n  display: grid;\n  @media screen and (max-width: 768px) {\n    grid-template-rows: 1fr 1fr;\n    /* margin-bottom: 10px; */\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    grid-template-columns: 1fr 2fr;\n  }\n\n  @media screen and (min-width: 1025px) {\n    grid-template-columns: 1fr 2fr;\n    margin-bottom: 20px;\n  }\n"]))),Vn=x.a.div(Q||(Q=Object(h.a)(["\n  display: grid;\n  @media screen and (max-width: 768px) {\n    grid-template-rows: 1fr 1fr;\n    margin-top: -10px;\n    margin-bottom: -10px;\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    grid-template-columns: 1fr 2fr;\n  }\n\n  @media screen and (min-width: 1025px) {\n    margin-top: -20px;\n    grid-template-columns: 1fr 2fr;\n    margin-bottom: 20px;\n  }\n"]))),Wn=x.a.button(X||(X=Object(h.a)(["\n  background-color: transparent;\n  border: ",";\n  color: ",";\n  cursor: ",';\n  font-family: "Mukta";\n  font-size: 1em;\n  font-weight: 700;\n  padding: 7px;\n  text-transform: uppercase;\n\n  :hover {\n    background-color: ',";\n  }\n\n  @media screen and (max-width: 768px) {\n    flex-grow: 1;\n    margin-top: 10px;\n    /* width: 100%; */\n  }\n  @media screen and (min-width: 1025px) {\n    flex-grow: 1;\n    margin-left: 10px;\n    min-width: 200px;\n  }\n"])),(function(n){return n.disabled?"1px solid #666":"1px solid #0cf"}),(function(n){return n.disabled?"#666":"#0cf"}),(function(n){return n.disabled?"not-allowed":"pointer"}),(function(n){return!n.disabled&&"#001026"})),qn=x.a.div(Y||(Y=Object(h.a)(["\n  display: flex;\n  margin-top: 34px;\n\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n    margin-bottom: 80px;\n  }\n  @media screen and (min-width: 1025px) {\n    flex-direction: row;\n  }\n"]))),Kn=x.a.label(nn||(nn=Object(h.a)(['\n  color: #aaa;\n  font-family: "Mukta";\n  font-size: 1em;\n  font-weight: 700;\n  margin-right: 15px;\n']))),Bn=(x.a.div(en||(en=Object(h.a)(["\n  @media screen and (max-width: 768px) {\n    /* grid-template-rows: 1fr 1fr; */\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    /* grid-template-columns: 1fr 2fr; */\n  }\n\n  @media screen and (min-width: 1025px) {\n    flex-grow: 1;\n    text-align: left;\n  }\n"]))),x.a.div(tn||(tn=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  @media screen and (min-width: 1025px) {\n    opacity: ",";\n    transition: opacity 1s ease;\n  }\n"])),(function(n){return n.fade.in?1:0}))),Dn=x.a.img(Sn||(Sn=Object(h.a)(["\n  height: 42px;\n  width: 42px;\n  filter: brightness(0) invert(0.9);\n\n  @media screen and (max-width: 768px) {\n    /* margin-top: 40px; */\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    /* max-width: 80%; */\n  }\n\n  @media screen and (min-width: 1025px) {\n    margin-top: 80px;\n  }\n"])));function Jn(){return Object(jn.jsx)(En,{href:"https://twitter.com/nfkey1",target:"_blank",children:Object(jn.jsx)(Dn,{src:"/twitter.png"})})}function Zn(n){var e=n.fade,t=n.setFade,a=n.setView;return Object(i.useEffect)((function(){t({in:!0})}),[]),Object(jn.jsx)(i.Fragment,{children:Object(jn.jsxs)(Tn,{children:[Object(jn.jsxs)(_n,{children:["NF",Object(jn.jsx)(Cn,{children:"Key"})]}),Object(jn.jsxs)(Bn,{fade:e,children:[Object(jn.jsx)(Fn,{children:"Create Ethereum token based access for your content."}),Object(jn.jsx)(Rn,{customMobileWidth:"85%",children:Object(jn.jsx)(Nn,{style:{color:"#aeaeae"},children:"NFKey is a free tool that allows you to create shortlinks to your private Web 2.0 content. These links require visitors to verify ownership of a specific Ethereum token or NFT in order to access the content. No code. No gas fees."})}),Object(jn.jsx)(qn,{children:Object(jn.jsx)(Wn,{onClick:function(){t({in:!1}),setTimeout((function(){return a(sn)}),800)},children:"Create new shortlink"})}),Object(jn.jsx)(Jn,{})]})]})})}function Hn(n){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",i=1;i<=n;i++)t+=e[Math.floor(Math.random()*e.length)];return t}function $n(n){var e=n.fade,t=n.setFade,a=n.setNewLink,r=n.setView,c=window.document.location.pathname,o=Object(i.useState)(""),u=Object(s.a)(o,2),f=u[0],h=u[1],p=Object(i.useState)("/"!==c?String(c).substring(1):Hn(6)),m=Object(s.a)(p,2),x=m[0],j=m[1],b=Object(i.useState)(""),O=Object(s.a)(b,2),w=O[0],g=O[1],v=Object(i.useState)(""),y=Object(s.a)(v,2),k=y[0],S=y[1],T=Object(i.useRef)(),_=w===un||w===fn||w===hn,C=!xn.DESTINATION_URL.test(f),E=!xn.SMART_CONTRACT.test(k),F=w===ln&&!E&!C;return Object(i.useEffect)((function(){return clearTimeout(T.current),String(x).length<3?g(fn):xn.URL_PATH.test(String(x))?(g(mn),void(T.current=setTimeout((function(){g(pn),setTimeout((function(){l("nfkey.to",x).then((function(n){n.data.destination_url?g(un):g(ln)})).catch((function(n){return alert("error getting link: ".concat(n))}))}),1e3)}),1e3))):g(hn)}),[x]),Object(i.useEffect)((function(){setTimeout((function(){return t({in:!0})}),0)}),[]),Object(jn.jsxs)(Tn,{children:[Object(jn.jsx)(En,{href:"https://nfkey.to",children:Object(jn.jsxs)(_n,{children:["NF",Object(jn.jsx)(Cn,{children:"Key"})]})}),Object(jn.jsxs)(Bn,{fade:e,children:[Object(jn.jsxs)(Rn,{style:{marginTop:"30px"},children:[Object(jn.jsx)(Nn,{children:"Please complete all of the fields below."}),Object(jn.jsxs)(An,{children:[Object(jn.jsxs)(Un,{children:[Object(jn.jsxs)(In,{children:[Object(jn.jsx)(Mn,{children:"Shortlink"}),Object(jn.jsx)(Kn,{children:"nfkey.to/"})]}),Object(jn.jsx)(Pn,{children:Object(jn.jsx)(Ln,{customWidth:"40%",isError:_,onChange:function(n){j(n.target.value)},spellCheck:!1,value:x})})]}),Object(jn.jsx)(Vn,{children:Object(jn.jsx)(Pn,{children:Object(jn.jsx)(zn,{isError:_,isSuccess:w===ln,children:w})})}),Object(jn.jsxs)(Un,{children:[Object(jn.jsx)(In,{children:Object(jn.jsx)(Mn,{children:"Destination URL"})}),Object(jn.jsx)(Pn,{children:Object(jn.jsx)(Ln,{isError:f&&C,onChange:function(n){h(n.target.value)},placeholder:"https://example.com",spellCheck:!1,value:f})})]}),Object(jn.jsxs)(Un,{children:[Object(jn.jsx)(In,{children:Object(jn.jsx)(Mn,{children:"Smart contract address"})}),Object(jn.jsx)(Pn,{children:Object(jn.jsx)(Ln,{isError:k&&E,onChange:function(n){S(n.target.value)},placeholder:"Token required for access",spellCheck:!1,value:k})})]}),Object(jn.jsxs)(qn,{children:[Object(jn.jsx)(Wn,{onClick:function(){j(Hn(6))},children:"Randomize URL"}),Object(jn.jsx)(Wn,{disabled:!F,onClick:function(){var n;(function(n){var e=n.host,t=n.pathname,i=n.destination_url,a=n.requirement_smart_contract;return d.a.post("api/link",{host:e,pathname:t,requirement_smart_contract:a,destination_url:i})})({host:"nfkey.to",pathname:x,requirement_smart_contract:k,destination_url:(n=f,"http://"===String(n).toLowerCase().substring(0,7)?"https://".concat(String(n).substring(7)):"https://"!==String(n).toLowerCase().substring(0,8)?"https://".concat(String(n)):n)}).then((function(n){a({host:"nfkey.to",pathname:x}),t({in:!1}),setTimeout((function(){return r(on)}),800)})).catch((function(n){return alert("There was a problem.")}))},children:"Create Shortlink"})]})]})]}),Object(jn.jsx)(Jn,{})]})]})}function Gn(n){var e=n.fade,t=n.setFade,a=n.newLink;return Object(i.useEffect)((function(){setTimeout((function(){return t({in:!0})}),0)}),[]),Object(jn.jsxs)(Tn,{children:[Object(jn.jsx)(En,{href:"https://nfkey.to",children:Object(jn.jsxs)(_n,{style:{marginBottom:"20px"},children:["NF",Object(jn.jsx)(Cn,{children:"Key"})]})}),Object(jn.jsxs)(Bn,{fade:e,children:[Object(jn.jsxs)(Fn,{children:[Object(jn.jsxs)("a",{href:"https://".concat(a.host,"/").concat(a.pathname),children:[a.host,"/",a.pathname]})," ","is now live!"]}),Object(jn.jsx)(Jn,{})]})]})}var Qn=function(){var n=window.document.location,e=n.host,t=n.pathname,a="/"!==t,r=Object(i.useState)(),c=Object(s.a)(r,2),o=c[0],u=c[1],f=Object(i.useState)(a?an:dn),h=Object(s.a)(f,2),p=h[0],m=h[1],x=Object(i.useState)(""),j=Object(s.a)(x,2),b=j[0],O=j[1],w=Object(i.useState)({in:!1}),g=Object(s.a)(w,2),v=g[0],y=g[1];return Object(i.useEffect)((function(){a&&l(e,String(t).substring(1)).then((function(n){var e=n.data;e.destination_url?(u(e),m(rn)):m(dn)})).catch((function(n){return alert("error getting link: ".concat(n))}))}),[]),Object(i.useEffect)((function(){p!==dn&&p!==sn||function(n){var e=n.page;d.a.post("api/visit",{page:e})}({page:p}),p===cn&&(document.getElementById("if").contentWindow.document.location=o.destination_url)}),[p]),Object(jn.jsxs)("div",{className:"App",children:[p===rn&&Object(jn.jsx)(kn,{link:o,setView:m}),p===cn&&Object(jn.jsx)("iframe",{id:"if",frameborder:"0",style:{height:"100vh",width:"100%"}}),p===sn&&Object(jn.jsx)($n,{fade:v,setFade:y,setNewLink:O,setView:m}),p===on&&Object(jn.jsx)(Gn,{fade:v,setFade:y,newLink:b,setView:m}),p===dn&&Object(jn.jsx)(Zn,{fade:v,setFade:y,setView:m})]})},Xn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,609)).then((function(e){var t=e.getCLS,i=e.getFID,a=e.getFCP,r=e.getLCP,c=e.getTTFB;t(n),i(n),a(n),r(n),c(n)}))};c.a.render(Object(jn.jsx)(a.a.StrictMode,{children:Object(jn.jsx)(Qn,{})}),document.getElementById("root")),Xn()}},[[605,1,2]]]);
//# sourceMappingURL=main.6395cb5a.chunk.js.map