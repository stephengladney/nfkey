{"version":3,"sources":["lib/api.js","lib/wallet.js","views/const.js","views/Verify.js","views/styles.js","components/Footer.js","views/Homepage.js","lib/id.js","views/NewLinkForm.js","views/NewLinkSuccess.js","App.js","reportWebVitals.js","index.js"],"names":["getLink","host","path","axios","get","provider","ERC20_ABI","web3Modal","Web3Modal","network","cacheProvider","theme","providerOptions","coinbasewallet","package","CoinbaseWalletSDK","options","appName","infuraId","process","walletconnect","WalletConnectProvider","connectWallet","a","connect","instance","ethers","providers","Web3Provider","getSignatureAndAddress","message","signer","getSigner","signMessage","signature","getAddress","address","verifySignature","utils","verifyMessage","contractAddress","_provider","JsonRpcProvider","contract","Contract","name","symbol","VIEWS","URL_FEEDBACK","REGEX","URL_PATH","DESTINATION_URL","SMART_CONTRACT","Container","styled","div","Title","h1","Description","h2","Highlighted","span","Button","button","isFirstLetterVowel","word","firstLetter","String","substring","toLowerCase","Verify","link","setView","useState","ethAccount","setEthAccount","isAwaitingVerification","setIsAwaitingVerification","isFailedToVerify","setIsFailedToVerify","contractNameAndSymbol","setContractNameAndSymbol","handleConnect","wallet","verifyParams","console","log","useEffect","id","then","data","allow","requirement_smart_contract","nameAndSymbol","onClick","UndecoratedLink","BodyContainer","p","customMobileWidth","BodyText","StyledInput","input","isError","customWidth","InputFeedbackText","isSuccess","StyledLabel","label","FormContainer","FormLeftColumn","FormRightColumn","FormRow","ErrorTextContainer","StyledButton","disabled","ButtonContainer","NFKeyURL","FadeBlock","fade","in","TwitterImage","img","Footer","href","target","src","Homepage","setFade","style","color","setTimeout","generateId","length","chars","i","Math","floor","random","NewLinkForm","setNewLink","pathname","window","document","location","destinationUrl","setDestinationUrl","urlPath","setUrlPath","urlPathFeedback","setUrlPathFeedback","smartContractAddress","setSmartContractAddress","typingTimer","useRef","isUrlPathError","isDestinationUrlError","test","isSmartContractAddressError","isAbleToSave","clearTimeout","current","destination_url","catch","e","alert","marginTop","onChange","value","spellCheck","placeholder","url","post","createLink","_","NewLinkSuccess","newLink","marginBottom","App","isPath","setLink","view","page","createVisit","getElementById","contentWindow","className","frameborder","height","width","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.47584eb6.chunk.js","sourcesContent":["import axios from \"axios\"\n\nexport function getLink(host, path) {\n  return axios.get(`api/link?host=${host}&path=${path}`, {})\n}\n\nexport function createLink({\n  host,\n  pathname,\n  destination_url,\n  requirement_smart_contract,\n}) {\n  return axios.post(\"api/link\", {\n    host,\n    pathname,\n    requirement_smart_contract,\n    destination_url,\n  })\n}\n\nexport function createVisit({ page }) {\n  return axios.post(\"api/visit\", {\n    page,\n  })\n}\n","import { ethers } from \"ethers\"\nimport Web3Modal from \"web3modal\"\nimport CoinbaseWalletSDK from \"@coinbase/wallet-sdk\"\nimport WalletConnectProvider from \"@walletconnect/web3-provider\"\n\nlet provider\n\nconst ERC20_ABI = [\n  \"function name() view returns (string)\",\n  \"function symbol() view returns (string)\",\n  \"function balanceOf(address) view returns (uint)\",\n]\n\nconst web3Modal = new Web3Modal({\n  network: \"mainnet\",\n  cacheProvider: false,\n  theme: \"dark\",\n  providerOptions: {\n    coinbasewallet: {\n      package: CoinbaseWalletSDK,\n      options: {\n        appName: \"NFKey\",\n        infuraId: process.env.REACT_APP_INFURA_ID,\n      },\n    },\n    walletconnect: {\n      package: WalletConnectProvider,\n      options: {\n        infuraId: process.env.REACT_APP_INFURA_ID,\n      },\n    },\n  },\n})\n\nexport async function connectWallet() {\n  const instance = await web3Modal.connect()\n  provider = new ethers.providers.Web3Provider(instance)\n}\n\nexport async function getSignatureAndAddress(message) {\n  const signer = provider.getSigner()\n  const signature = await signer.signMessage(message)\n  const address = await signer.getAddress()\n  return { address, message, signature }\n}\n\nexport function verifySignature({ address, message, signature }) {\n  const resolvedAddress = ethers.utils.verifyMessage(message, signature)\n  return address === resolvedAddress\n}\n\nexport async function getSmartContractNameAndSymbol(contractAddress) {\n  const _provider = new ethers.providers.JsonRpcProvider(\n    `https://mainnet.infura.io/v3/${process.env.REACT_APP_INFURA_ID}`\n  )\n  const contract = new ethers.Contract(contractAddress, ERC20_ABI, _provider)\n  const name = await contract.name()\n  const symbol = await contract.symbol()\n  return { name, symbol }\n}\n","//VIEWS\nexport const VIEWS = {\n  LOADING: \"loading\",\n  VERIFYING: \"verifying\",\n  VERIFIED: \"verified\",\n  NEWLINKFORM: \"newlink-form\",\n  NEWLINKSUCCESS: \"newlink-success\",\n  HOMEPAGE: \"homepage\",\n}\n\n// URL PATH FEEDBACK\nexport const URL_FEEDBACK = {\n  IS_AVAILALABLE: \"This URL is available!\",\n  IS_NOT_AVAILABLE: \"Sorry, this URL is already taken.\",\n  MINIMUM_3_CHARS: \"URL path must be at least 3 characters.\",\n  INVALID: \"Invalid URL path\",\n  CHECKING_AVAILABILITY: \"Checking availability...\",\n  BLANK: \" \",\n}\n\n// REGEX\nexport const REGEX = {\n  URL_PATH: /^[a-zA-Z0-9-_]*$/,\n  DESTINATION_URL:\n    /(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,18}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/,\n  SMART_CONTRACT: /^0x[a-fA-F0-9]{40}$/,\n}\n","import { Fragment, useEffect, useState } from \"react\"\nimport styled from \"styled-components\"\nimport * as wallet from \"../lib/wallet\"\nimport { VIEWS } from \"./const\"\nimport axios from \"axios\"\n\nconst Container = styled.div`\n  text-align: center;\n  width: 100%;\n\n  @media screen and (max-width: 768px) {\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    position: absolute;\n    /* top: 30%; */\n  }\n  @media screen and (min-width: 1025px) {\n    position: absolute;\n    top: 25%;\n  }\n`\n\nconst Title = styled.h1`\n  font-family: \"Archivo Black\";\n  font-size: 72px;\n  color: #fff;\n  /* margin-bottom: 0px; */\n`\n\nconst Description = styled.h2`\n  color: #ddd;\n  font-family: \"Raleway\";\n`\n\nconst SmallText = styled.span`\n  display: block;\n  color: #aaa;\n  font-family: \"Mukta\";\n  margin-top: 40px;\n  font-size: 20px;\n`\n\nconst Highlighted = styled.span`\n  color: #0df;\n`\n\nconst Button = styled.button`\n  background-color: transparent;\n  border: 2px solid #ddd;\n  color: #ddd;\n  cursor: pointer;\n  font-family: \"Mukta\";\n  font-size: 1em;\n  font-weight: 700;\n  margin-top: 50px;\n  text-transform: uppercase;\n  padding: 15px;\n`\n\nfunction isFirstLetterVowel(word) {\n  const firstLetter = String(word).substring(0, 1).toLowerCase()\n  if (\n    firstLetter === \"a\" ||\n    firstLetter === \"e\" ||\n    firstLetter === \"i\" ||\n    firstLetter === \"o\" ||\n    firstLetter === \"u\"\n  )\n    return true\n  else return false\n}\n\nexport function Verify({ link, setView }) {\n  const [ethAccount, setEthAccount] = useState()\n  const [isAwaitingVerification, setIsAwaitingVerification] = useState(false)\n  const [isFailedToVerify, setIsFailedToVerify] = useState(false)\n  const [contractNameAndSymbol, setContractNameAndSymbol] = useState({})\n\n  const handleConnect = async () => {\n    try {\n      await wallet.connectWallet()\n      const verifyParams = await wallet.getSignatureAndAddress(\n        \"Welcome to NFKey!\\n\\nPlease click Sign to verify that you own this wallet. This will not result in a blockchain transaction or incur any gas fees.\"\n      )\n      if (wallet.verifySignature(verifyParams)) {\n        setEthAccount(verifyParams.address)\n      }\n    } catch (e) {\n      console.log(e)\n      setIsAwaitingVerification(false)\n      setIsFailedToVerify(true)\n    }\n  }\n\n  useEffect(() => {\n    if (ethAccount) {\n      setIsAwaitingVerification(true)\n      axios\n        .get(`api/verify?link_id=${link.id}&wallet_address=${ethAccount}`)\n        .then(({ data: verdict }) => {\n          if (verdict.allow) setView(VIEWS.VERIFIED)\n          else {\n            setIsAwaitingVerification(false)\n            setIsFailedToVerify(true)\n          }\n        })\n    }\n  }, [ethAccount])\n\n  useEffect(() => {\n    wallet\n      .getSmartContractNameAndSymbol(link.requirement_smart_contract)\n      .then((nameAndSymbol) => setContractNameAndSymbol(nameAndSymbol))\n  }, [link])\n\n  return (\n    <Container>\n      <Title>\n        NF<Highlighted>Key</Highlighted>\n      </Title>\n      {isAwaitingVerification && <Description>Verifying...</Description>}\n      {isFailedToVerify && <Description>Verification failed.</Description>}\n      {!isFailedToVerify && !isAwaitingVerification && (\n        <Fragment>\n          <Description>\n            This content requires ownership of{\" \"}\n            {contractNameAndSymbol && isFirstLetterVowel(contractNameAndSymbol)\n              ? \"an \"\n              : \"a \"}\n            {contractNameAndSymbol\n              ? `${contractNameAndSymbol.name} (${contractNameAndSymbol.symbol})`\n              : \"specific ERC-721\"}{\" \"}\n            token.\n          </Description>\n          <Description>\n            Please verify ownership of the required token(s).\n          </Description>\n          <Button onClick={handleConnect}>Verify Ownership</Button>\n        </Fragment>\n      )}\n    </Container>\n  )\n}\n","import styled from \"styled-components\"\n\nexport const Container = styled.div`\n  cursor: default;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  width: 100%;\n\n  @media screen and (max-width: 768px) {\n    /* margin-top: 15%; */\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    position: absolute;\n    top: 25%;\n    width: 100%;\n  }\n\n  @media screen and (min-width: 1025px) {\n    position: absolute;\n    top: 25%;\n  }\n`\n\nexport const Title = styled.h1`\n  font-family: \"Archivo Black\";\n  font-size: 72px;\n  color: #eee;\n  margin-bottom: 0px;\n`\n\nexport const Highlighted = styled.span`\n  color: #0cf;\n`\n\nexport const UndecoratedLink = styled.a`\n  text-decoration: none;\n\n  :hover {\n    text-decoration: none;\n  }\n`\n\nexport const Description = styled.h2`\n  color: #ddd;\n  font-family: \"Raleway\";\n  padding-left: 20px;\n  padding-right: 20px;\n\n  @media screen and (max-width: 768px) {\n    font-size: 1.5em;\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    font-size: 1.8em;\n  }\n\n  @media screen and (min-width: 1025px) {\n    font-size: 2em;\n  }\n`\n\nexport const BodyContainer = styled.div`\n  @media screen and (max-width: 768px) {\n    width: ${(p) => (p.customMobileWidth ? p.customMobileWidth : null)};\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    max-width: 80%;\n  }\n\n  @media screen and (min-width: 1025px) {\n    max-width: 700px;\n  }\n`\n\nexport const BodyText = styled.span`\n  color: #ddd;\n  font-family: \"Raleway\";\n  font-size: 18px;\n`\n\nexport const StyledInput = styled.input`\n  background-color: #112;\n  color: #ddd;\n  border: 1px solid ${(p) => (p.isError ? \"#d36\" : \"#ddd\")};\n  font-family: \"Mukta\";\n  font-size: 1em;\n  padding: 6px;\n  padding-left: 10px;\n\n  @media screen and (min-width: 1025px) {\n    width: ${(p) => (p.customWidth ? p.customWidth : \"100%\")};\n  }\n`\n\nexport const InputFeedbackText = styled.span`\n  color: ${(p) => (p.isError ? \"#d36\" : p.isSuccess ? \"#3d6\" : \"#aaa\")};\n  font-family: \"Mukta\";\n  font-size: 14px;\n  justify-self: flex-start;\n  white-space: pre;\n`\n\nexport const StyledLabel = styled.label`\n  color: #ddd;\n  margin-right: 15px;\n  font-family: \"Mukta\";\n  font-size: 1em;\n  font-weight: 700;\n  text-transform: uppercase;\n`\n\nexport const FormContainer = styled.div`\n  margin-top: 40px;\n`\n\nexport const FormLeftColumn = styled.div`\n  display: flex;\n  /* justify-content: flex-end; */\n  align-items: center;\n\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n    justify-content: center;\n    width: 100%;\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    justify-content: flex-end;\n  }\n\n  @media screen and (min-width: 1025px) {\n    justify-content: flex-end;\n  }\n`\n\nexport const FormRightColumn = styled.div`\n  display: flex;\n\n  /* text-align: left; */\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n    align-items: stretch;\n    /* grid-row-start: 2; */\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    grid-column-start: 2;\n  }\n\n  @media screen and (min-width: 1025px) {\n    justify-content: flex-start;\n    grid-column-start: 2;\n  }\n`\n\nexport const FormRow = styled.div`\n  display: grid;\n  @media screen and (max-width: 768px) {\n    grid-template-rows: 1fr 1fr;\n    /* margin-bottom: 10px; */\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    grid-template-columns: 1fr 2fr;\n  }\n\n  @media screen and (min-width: 1025px) {\n    grid-template-columns: 1fr 2fr;\n    margin-bottom: 20px;\n  }\n`\n\nexport const ErrorTextContainer = styled.div`\n  display: grid;\n  @media screen and (max-width: 768px) {\n    grid-template-rows: 1fr 1fr;\n    margin-top: -10px;\n    margin-bottom: -10px;\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    grid-template-columns: 1fr 2fr;\n  }\n\n  @media screen and (min-width: 1025px) {\n    margin-top: -20px;\n    grid-template-columns: 1fr 2fr;\n    margin-bottom: 20px;\n  }\n`\n\nexport const StyledButton = styled.button`\n  background-color: transparent;\n  border: ${(p) => (p.disabled ? \"1px solid #666\" : \"1px solid #0cf\")};\n  color: ${(p) => (p.disabled ? \"#666\" : \"#0cf\")};\n  cursor: ${(p) => (p.disabled ? \"not-allowed\" : \"pointer\")};\n  font-family: \"Mukta\";\n  font-size: 1em;\n  font-weight: 700;\n  padding: 7px;\n  text-transform: uppercase;\n\n  :hover {\n    background-color: ${(p) => !p.disabled && \"#001026\"};\n  }\n\n  @media screen and (max-width: 768px) {\n    flex-grow: 1;\n    margin-top: 10px;\n    /* width: 100%; */\n  }\n  @media screen and (min-width: 1025px) {\n    flex-grow: 1;\n    margin-left: 10px;\n    min-width: 200px;\n  }\n`\n\nexport const ButtonContainer = styled.div`\n  display: flex;\n  margin-top: 34px;\n\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n    margin-bottom: 80px;\n  }\n  @media screen and (min-width: 1025px) {\n    flex-direction: row;\n  }\n`\n\nexport const NFKeyURL = styled.label`\n  color: #aaa;\n  font-family: \"Mukta\";\n  font-size: 1em;\n  font-weight: 700;\n  margin-right: 15px;\n`\n\nexport const NFKeyURLSpacer = styled.div`\n  @media screen and (max-width: 768px) {\n    /* grid-template-rows: 1fr 1fr; */\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    /* grid-template-columns: 1fr 2fr; */\n  }\n\n  @media screen and (min-width: 1025px) {\n    flex-grow: 1;\n    text-align: left;\n  }\n`\nexport const FadeBlock = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  @media screen and (min-width: 1025px) {\n    opacity: ${(p) => (p.fade.in ? 1 : 0)};\n    transition: opacity 1s ease;\n  }\n`\n","import styled from \"styled-components\"\nimport { UndecoratedLink } from \"../views/styles\"\n\nconst TwitterImage = styled.img`\n  height: 42px;\n  width: 42px;\n  filter: brightness(0) invert(0.9);\n\n  @media screen and (max-width: 768px) {\n    /* margin-top: 40px; */\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    /* max-width: 80%; */\n  }\n\n  @media screen and (min-width: 1025px) {\n    margin-top: 80px;\n  }\n`\nexport function Footer() {\n  return (\n    <UndecoratedLink href=\"https://twitter.com/nfkey1\" target=\"_blank\">\n      <TwitterImage src={process.env.PUBLIC_URL + \"/twitter.png\"} />\n    </UndecoratedLink>\n  )\n}\n","import {\n  BodyContainer,\n  BodyText,\n  ButtonContainer,\n  Container,\n  Description,\n  FadeBlock,\n  Highlighted,\n  StyledButton,\n  Title,\n} from \"./styles\"\nimport { VIEWS } from \"./const\"\nimport { Fragment, useEffect } from \"react\"\nimport { Footer } from \"../components/Footer\"\n\nexport function Homepage({ fade, setFade, setView }) {\n  useEffect(() => {\n    setFade({ in: true })\n  }, [])\n  return (\n    <Fragment>\n      <Container>\n        <Title>\n          NF<Highlighted>Key</Highlighted>\n        </Title>\n        <FadeBlock fade={fade}>\n          <Description>\n            Create Ethereum token based access for your content.\n          </Description>\n          <BodyContainer customMobileWidth={\"85%\"}>\n            <BodyText style={{ color: \"#aeaeae\" }}>\n              NFKey is a free tool that allows you to create shortlinks to your\n              private Web 2.0 content. These links require visitors to verify\n              ownership of a specific Ethereum token or NFT in order to access\n              the content. No code. No gas fees.\n            </BodyText>\n          </BodyContainer>\n          <ButtonContainer>\n            <StyledButton\n              onClick={() => {\n                setFade({ in: false })\n                setTimeout(() => setView(VIEWS.NEWLINKFORM), 800)\n              }}\n            >\n              Create new shortlink\n            </StyledButton>\n          </ButtonContainer>\n          <Footer />\n        </FadeBlock>\n      </Container>\n    </Fragment>\n  )\n}\n","export function generateId(length) {\n  const chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\"\n  let id = \"\"\n  for (let i = 1; i <= length; i++) {\n    id += chars[Math.floor(Math.random() * chars.length)]\n  }\n  return id\n}\n","import { useEffect, useRef, useState } from \"react\"\nimport { generateId } from \"../lib/id\"\nimport { createLink, getLink } from \"../lib/api\"\nimport {\n  Container,\n  BodyContainer,\n  BodyText,\n  ButtonContainer,\n  ErrorTextContainer,\n  FadeBlock,\n  FormContainer,\n  FormLeftColumn,\n  FormRightColumn,\n  FormRow,\n  Highlighted,\n  InputFeedbackText,\n  NFKeyURL,\n  StyledButton,\n  StyledInput,\n  StyledLabel,\n  Title,\n  UndecoratedLink,\n} from \"./styles\"\nimport { REGEX, URL_FEEDBACK, VIEWS } from \"./const\"\nimport { Footer } from \"../components/Footer\"\n\nexport function NewLinkForm({ fade, setFade, setNewLink, setView }) {\n  const { pathname } = window.document.location\n  const [destinationUrl, setDestinationUrl] = useState(\"\")\n  const [urlPath, setUrlPath] = useState(\n    pathname !== \"/\" ? String(pathname).substring(1) : generateId(6)\n  )\n  const [urlPathFeedback, setUrlPathFeedback] = useState(\"\")\n  const [smartContractAddress, setSmartContractAddress] = useState(\"\")\n  const typingTimer = useRef()\n\n  const isUrlPathError =\n    urlPathFeedback === URL_FEEDBACK.IS_NOT_AVAILABLE ||\n    urlPathFeedback === URL_FEEDBACK.MINIMUM_3_CHARS ||\n    urlPathFeedback === URL_FEEDBACK.INVALID\n\n  const isDestinationUrlError = !REGEX.DESTINATION_URL.test(destinationUrl)\n  const isSmartContractAddressError =\n    !REGEX.SMART_CONTRACT.test(smartContractAddress)\n\n  const isAbleToSave =\n    urlPathFeedback === URL_FEEDBACK.IS_AVAILALABLE &&\n    !isSmartContractAddressError & !isDestinationUrlError\n\n  const handleRandomizeClick = () => {\n    setUrlPath(generateId(6))\n  }\n\n  const convertUrlToHttps = (url) => {\n    if (String(url).toLowerCase().substring(0, 7) === \"http://\") {\n      return `https://${String(url).substring(7)}`\n    } else if (String(url).toLowerCase().substring(0, 8) !== \"https://\") {\n      return `https://${String(url)}`\n    } else return url\n  }\n\n  const handleCreateClick = () => {\n    createLink({\n      host: \"nfkey.to\",\n      pathname: urlPath,\n      requirement_smart_contract: smartContractAddress,\n      destination_url: convertUrlToHttps(destinationUrl),\n    })\n      .then((_) => {\n        setNewLink({ host: \"nfkey.to\", pathname: urlPath })\n        setFade({ in: false })\n        setTimeout(() => setView(VIEWS.NEWLINKSUCCESS), 800)\n      })\n      .catch((e) => alert(`There was a problem.`))\n  }\n\n  const handleDestinationUrlChange = (e) => {\n    setDestinationUrl(e.target.value)\n  }\n\n  const handleUrlPathChange = (e) => {\n    setUrlPath(e.target.value)\n  }\n\n  const handleSmartContractAddressChange = (e) => {\n    setSmartContractAddress(e.target.value)\n  }\n\n  useEffect(() => {\n    clearTimeout(typingTimer.current)\n    if (String(urlPath).length < 3) {\n      return setUrlPathFeedback(URL_FEEDBACK.MINIMUM_3_CHARS)\n    }\n    if (!REGEX.URL_PATH.test(String(urlPath))) {\n      return setUrlPathFeedback(URL_FEEDBACK.INVALID)\n    }\n\n    setUrlPathFeedback(URL_FEEDBACK.BLANK)\n    typingTimer.current = setTimeout(() => {\n      setUrlPathFeedback(URL_FEEDBACK.CHECKING_AVAILABILITY)\n      setTimeout(() => {\n        getLink(\"nfkey.to\", urlPath)\n          .then(({ data: link }) => {\n            if (link.destination_url) {\n              setUrlPathFeedback(URL_FEEDBACK.IS_NOT_AVAILABLE)\n            } else {\n              setUrlPathFeedback(URL_FEEDBACK.IS_AVAILALABLE)\n            }\n          })\n          .catch((e) => alert(`error getting link: ${e}`))\n      }, 1000)\n    }, 1000)\n  }, [urlPath])\n\n  useEffect(() => {\n    setTimeout(() => setFade({ in: true }), 0)\n  }, [])\n\n  return (\n    <Container>\n      <UndecoratedLink href=\"https://nfkey.to\">\n        <Title>\n          NF<Highlighted>Key</Highlighted>\n        </Title>\n      </UndecoratedLink>\n      <FadeBlock fade={fade}>\n        <BodyContainer style={{ marginTop: \"30px\" }}>\n          <BodyText>Please complete all of the fields below.</BodyText>\n          <FormContainer>\n            <FormRow>\n              <FormLeftColumn>\n                <StyledLabel>Shortlink</StyledLabel>\n                <NFKeyURL>nfkey.to/</NFKeyURL>\n              </FormLeftColumn>\n              <FormRightColumn>\n                <StyledInput\n                  customWidth={\"40%\"}\n                  isError={isUrlPathError}\n                  onChange={handleUrlPathChange}\n                  spellCheck={false}\n                  value={urlPath}\n                />\n              </FormRightColumn>\n            </FormRow>\n            <ErrorTextContainer>\n              <FormRightColumn>\n                <InputFeedbackText\n                  isError={isUrlPathError}\n                  isSuccess={urlPathFeedback === URL_FEEDBACK.IS_AVAILALABLE}\n                >\n                  {urlPathFeedback}\n                </InputFeedbackText>\n              </FormRightColumn>\n            </ErrorTextContainer>\n            <FormRow>\n              <FormLeftColumn>\n                <StyledLabel>Destination URL</StyledLabel>\n              </FormLeftColumn>\n              <FormRightColumn>\n                <StyledInput\n                  isError={destinationUrl && isDestinationUrlError}\n                  onChange={handleDestinationUrlChange}\n                  placeholder={\"https://example.com\"}\n                  spellCheck={false}\n                  value={destinationUrl}\n                />\n              </FormRightColumn>\n            </FormRow>\n            <FormRow>\n              <FormLeftColumn>\n                <StyledLabel>Smart contract address</StyledLabel>\n              </FormLeftColumn>\n              <FormRightColumn>\n                <StyledInput\n                  isError={smartContractAddress && isSmartContractAddressError}\n                  onChange={handleSmartContractAddressChange}\n                  placeholder={\"Token required for access\"}\n                  spellCheck={false}\n                  value={smartContractAddress}\n                />\n              </FormRightColumn>\n            </FormRow>\n            <ButtonContainer>\n              <StyledButton onClick={handleRandomizeClick}>\n                Randomize URL\n              </StyledButton>\n              <StyledButton\n                disabled={!isAbleToSave}\n                onClick={handleCreateClick}\n              >\n                Create Shortlink\n              </StyledButton>\n            </ButtonContainer>\n          </FormContainer>\n        </BodyContainer>\n        <Footer />\n      </FadeBlock>\n    </Container>\n  )\n}\n","import {\n  Container,\n  FadeBlock,\n  UndecoratedLink,\n  Title,\n  Highlighted,\n  Description,\n} from \"./styles\"\nimport { Footer } from \"../components/Footer\"\nimport { useEffect } from \"react\"\n\nexport function NewLinkSuccess({ fade, setFade, newLink }) {\n  useEffect(() => {\n    setTimeout(() => setFade({ in: true }), 0)\n  }, [])\n\n  return (\n    <Container>\n      <UndecoratedLink href=\"https://nfkey.to\">\n        <Title style={{ marginBottom: \"20px\" }}>\n          NF<Highlighted>Key</Highlighted>\n        </Title>\n      </UndecoratedLink>\n      <FadeBlock fade={fade}>\n        <Description>\n          <a href={`https://${newLink.host}/${newLink.pathname}`}>\n            {newLink.host}/{newLink.pathname}\n          </a>{\" \"}\n          is now live!\n        </Description>\n        <Footer />\n      </FadeBlock>\n    </Container>\n  )\n}\n","import \"./App.css\"\nimport { useEffect, useState } from \"react\"\nimport { createVisit, getLink } from \"./lib/api\"\nimport { Verify } from \"./views/Verify\"\nimport { Homepage } from \"./views/Homepage\"\nimport { VIEWS } from \"./views/const\"\nimport { NewLinkForm } from \"./views/NewLinkForm\"\nimport { NewLinkSuccess } from \"./views/NewLinkSuccess\"\n\nfunction App() {\n  const { host, pathname } = window.document.location\n  const isPath = pathname !== \"/\"\n  const [link, setLink] = useState()\n  // const [view, setView] = useState(isPath ? VIEWS.LOADING : VIEWS.HOMEPAGE)\n  const [view, setView] = useState(VIEWS.VERIFYING)\n  const [newLink, setNewLink] = useState(\"\")\n  const [fade, setFade] = useState({ in: false })\n\n  useEffect(() => {\n    if (isPath) {\n      getLink(host, String(pathname).substring(1))\n        .then(({ data: link }) => {\n          if (link.destination_url) {\n            setLink(link)\n            setView(VIEWS.VERIFYING)\n          } else {\n            setView(VIEWS.HOMEPAGE)\n          }\n        })\n        .catch((e) => alert(`error getting link: ${e}`))\n    }\n  }, [])\n\n  useEffect(() => {\n    if (view === VIEWS.HOMEPAGE || view === VIEWS.NEWLINKFORM) {\n      createVisit({ page: view })\n    }\n    if (view === VIEWS.VERIFIED) {\n      document.getElementById(\"if\").contentWindow.document.location =\n        link.destination_url\n    }\n  }, [view])\n\n  return (\n    <div className=\"App\">\n      {view === VIEWS.VERIFYING && <Verify link={link} setView={setView} />}\n      {view === VIEWS.VERIFIED && (\n        <iframe\n          id=\"if\"\n          frameborder=\"0\"\n          style={{ height: \"100vh\", width: \"100%\" }}\n        ></iframe>\n      )}\n      {view === VIEWS.NEWLINKFORM && (\n        <NewLinkForm\n          fade={fade}\n          setFade={setFade}\n          setNewLink={setNewLink}\n          setView={setView}\n        />\n      )}\n      {view === VIEWS.NEWLINKSUCCESS && (\n        <NewLinkSuccess\n          fade={fade}\n          setFade={setFade}\n          newLink={newLink}\n          setView={setView}\n        />\n      )}\n      {view === VIEWS.HOMEPAGE && (\n        <Homepage fade={fade} setFade={setFade} setView={setView} />\n      )}\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\nimport reportWebVitals from \"./reportWebVitals\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}