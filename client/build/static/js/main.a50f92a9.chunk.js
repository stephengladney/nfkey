(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{331:function(n,e,t){},332:function(n,e,t){},359:function(n,e){},378:function(n,e){},383:function(n,e){},385:function(n,e){},443:function(n,e){},475:function(n,e){},477:function(n,e){},498:function(n,e){},499:function(n,e){},523:function(n,e){},605:function(n,e,t){"use strict";t.r(e);var i=t(17),a=t.n(i),r=t(306),c=t.n(r),s=(t(331),t(48)),o=(t(332),t(110)),d=t.n(o);function l(n,e){return d.a.get("api/link?host=".concat(n,"&path=").concat(e),{})}var f,u=t(11),h=t(25),p=t(1),m=t.n(p),x=t(26),j=t(207),b=t(307),O=t.n(b),w=t(308),g=t.n(w),y=t(323),v=new O.a({network:"mainnet",cacheProvider:!1,theme:"dark",providerOptions:{coinbasewallet:{package:g.a,options:{appName:"NFKey",infuraId:"8960b2db7cf64628b129f95f6cbc8c53",rpc:"",chainId:1}},walletconnect:{package:y.a,options:{infuraId:"8960b2db7cf64628b129f95f6cbc8c53"}}}});function k(){return S.apply(this,arguments)}function S(){return(S=Object(u.a)(m.a.mark((function n(){var e;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.connect();case 2:e=n.sent,f=new j.a.providers.Web3Provider(e);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function T(n){return _.apply(this,arguments)}function _(){return(_=Object(u.a)(m.a.mark((function n(e){var t,i,a;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=f.getSigner(),n.next=3,t.signMessage(e);case 3:return i=n.sent,n.next=6,t.getAddress();case 6:return a=n.sent,n.abrupt("return",{address:a,message:e,signature:i});case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function C(n){var e=n.address,t=n.message,i=n.signature;return e===j.a.utils.verifyMessage(t,i)}var F,E,N,R,z,M,A,L,I,U,V,W,P,q,K,B,D,Z,H,J,$,G,Q,X,Y,nn,en="verifying",tn="verified",an="newlink-form",rn="newlink-success",cn="homepage",sn="This URL is available!",on="Sorry, this URL is already taken.",dn="URL path must be at least 3 characters.",ln="Invalid URL path",fn="Checking availability...",un=" ",hn={URL_PATH:/^[a-zA-Z0-9-_]*$/,DESTINATION_URL:/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,18}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/,SMART_CONTRACT:/^0x[a-fA-F0-9]{40}$/},pn=t(10),mn=x.a.div(F||(F=Object(h.a)(["\n  text-align: center;\n  width: 100%;\n\n  @media screen and (max-width: 768px) {\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    position: absolute;\n    /* top: 30%; */\n  }\n  @media screen and (min-width: 1025px) {\n    position: absolute;\n    top: 25%;\n  }\n"]))),xn=x.a.h1(E||(E=Object(h.a)(['\n  font-family: "Archivo Black";\n  font-size: 72px;\n  color: #fff;\n  /* margin-bottom: 0px; */\n']))),jn=x.a.h2(N||(N=Object(h.a)(['\n  color: #ddd;\n  font-family: "Raleway";\n']))),bn=(x.a.span(R||(R=Object(h.a)(['\n  display: block;\n  color: #aaa;\n  font-family: "Mukta";\n  margin-top: 40px;\n  font-size: 20px;\n']))),x.a.span(z||(z=Object(h.a)(["\n  color: #0df;\n"])))),On=x.a.button(M||(M=Object(h.a)(['\n  background-color: transparent;\n  border: 2px solid #ddd;\n  color: #ddd;\n  cursor: pointer;\n  font-family: "Mukta";\n  font-size: 1em;\n  font-weight: 700;\n  margin-top: 50px;\n  text-transform: uppercase;\n  padding: 15px;\n'])));function wn(n){var e=n.link,t=n.setView,a=Object(i.useState)(),r=Object(s.a)(a,2),c=r[0],o=r[1],l=Object(i.useState)(!1),f=Object(s.a)(l,2),h=(f[0],f[1]),p=Object(i.useState)(!1),x=Object(s.a)(p,2),j=x[0],b=x[1],O=Object(i.useState)(!1),w=Object(s.a)(O,2),g=w[0],y=w[1],v=function(){var n=Object(u.a)(m.a.mark((function n(){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,S();case 3:h(!0),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}(),S=function(){var n=Object(u.a)(m.a.mark((function n(){var e;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k();case 3:return n.next=5,T("Welcome to NFKey!\n\nPlease click Sign to verify that you own this wallet. This will not result in a blockchain transaction or incur any gas fees.");case 5:C(e=n.sent)&&o(e.address),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0),b(!1),y(!0);case 14:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();return Object(i.useEffect)((function(){c&&(b(!0),d.a.get("api/verify?link_id=".concat(e.id,"&wallet_address=").concat(c)).then((function(n){n.data.allow?t(tn):(b(!1),y(!0))})))}),[c]),Object(pn.jsxs)(mn,{children:[Object(pn.jsxs)(xn,{children:["NF",Object(pn.jsx)(bn,{children:"Key"})]}),j&&Object(pn.jsx)(jn,{children:"Verifying..."}),g&&Object(pn.jsx)(jn,{children:"Verification failed."}),!g&&!j&&Object(pn.jsxs)(i.Fragment,{children:[Object(pn.jsx)(jn,{children:"This content requires ownership of a specific ERC-721 token."}),Object(pn.jsx)(jn,{children:"Please verify ownership of the required token(s)."}),Object(pn.jsx)(On,{onClick:v,children:"Verify Ownership"})]})]})}var gn,yn=x.a.div(A||(A=Object(h.a)(["\n  cursor: default;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  width: 100%;\n\n  @media screen and (max-width: 768px) {\n    /* margin-top: 15%; */\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    position: absolute;\n    top: 25%;\n    width: 100%;\n  }\n\n  @media screen and (min-width: 1025px) {\n    position: absolute;\n    top: 25%;\n  }\n"]))),vn=x.a.h1(L||(L=Object(h.a)(['\n  font-family: "Archivo Black";\n  font-size: 72px;\n  color: #eee;\n  margin-bottom: 0px;\n']))),kn=x.a.span(I||(I=Object(h.a)(["\n  color: #0cf;\n"]))),Sn=x.a.a(U||(U=Object(h.a)(["\n  text-decoration: none;\n\n  :hover {\n    text-decoration: none;\n  }\n"]))),Tn=x.a.h2(V||(V=Object(h.a)(['\n  color: #ddd;\n  font-family: "Raleway";\n  padding-left: 20px;\n  padding-right: 20px;\n\n  @media screen and (max-width: 768px) {\n    font-size: 1.5em;\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    font-size: 1.8em;\n  }\n\n  @media screen and (min-width: 1025px) {\n    font-size: 2em;\n  }\n']))),_n=x.a.div(W||(W=Object(h.a)(["\n  @media screen and (max-width: 768px) {\n    width: ",";\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    max-width: 80%;\n  }\n\n  @media screen and (min-width: 1025px) {\n    max-width: 700px;\n  }\n"])),(function(n){return n.customMobileWidth?n.customMobileWidth:null})),Cn=x.a.span(P||(P=Object(h.a)(['\n  color: #ddd;\n  font-family: "Raleway";\n  font-size: 18px;\n']))),Fn=x.a.input(q||(q=Object(h.a)(["\n  background-color: #112;\n  color: #ddd;\n  border: 1px solid ",';\n  font-family: "Mukta";\n  font-size: 1em;\n  padding: 6px;\n  padding-left: 10px;\n\n  @media screen and (min-width: 1025px) {\n    width: ',";\n  }\n"])),(function(n){return n.isError?"#d36":"#ddd"}),(function(n){return n.customWidth?n.customWidth:"100%"})),En=x.a.span(K||(K=Object(h.a)(["\n  color: ",';\n  font-family: "Mukta";\n  font-size: 14px;\n  justify-self: flex-start;\n  white-space: pre;\n'])),(function(n){return n.isError?"#d36":n.isSuccess?"#3d6":"#aaa"})),Nn=x.a.label(B||(B=Object(h.a)(['\n  color: #ddd;\n  margin-right: 15px;\n  font-family: "Mukta";\n  font-size: 1em;\n  font-weight: 700;\n  text-transform: uppercase;\n']))),Rn=x.a.div(D||(D=Object(h.a)(["\n  margin-top: 40px;\n"]))),zn=x.a.div(Z||(Z=Object(h.a)(["\n  display: flex;\n  /* justify-content: flex-end; */\n  align-items: center;\n\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n    justify-content: center;\n    width: 100%;\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    justify-content: flex-end;\n  }\n\n  @media screen and (min-width: 1025px) {\n    justify-content: flex-end;\n  }\n"]))),Mn=x.a.div(H||(H=Object(h.a)(["\n  display: flex;\n\n  /* text-align: left; */\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n    align-items: stretch;\n    /* grid-row-start: 2; */\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    grid-column-start: 2;\n  }\n\n  @media screen and (min-width: 1025px) {\n    justify-content: flex-start;\n    grid-column-start: 2;\n  }\n"]))),An=x.a.div(J||(J=Object(h.a)(["\n  display: grid;\n  @media screen and (max-width: 768px) {\n    grid-template-rows: 1fr 1fr;\n    /* margin-bottom: 10px; */\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    grid-template-columns: 1fr 2fr;\n  }\n\n  @media screen and (min-width: 1025px) {\n    grid-template-columns: 1fr 2fr;\n    margin-bottom: 20px;\n  }\n"]))),Ln=x.a.div($||($=Object(h.a)(["\n  display: grid;\n  @media screen and (max-width: 768px) {\n    grid-template-rows: 1fr 1fr;\n    margin-top: -10px;\n    margin-bottom: -10px;\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    grid-template-columns: 1fr 2fr;\n  }\n\n  @media screen and (min-width: 1025px) {\n    margin-top: -20px;\n    grid-template-columns: 1fr 2fr;\n    margin-bottom: 20px;\n  }\n"]))),In=x.a.button(G||(G=Object(h.a)(["\n  background-color: transparent;\n  border: ",";\n  color: ",";\n  cursor: ",';\n  font-family: "Mukta";\n  font-size: 1em;\n  font-weight: 700;\n  padding: 7px;\n  text-transform: uppercase;\n\n  :hover {\n    background-color: ',";\n  }\n\n  @media screen and (max-width: 768px) {\n    flex-grow: 1;\n    margin-top: 10px;\n    /* width: 100%; */\n  }\n  @media screen and (min-width: 1025px) {\n    flex-grow: 1;\n    margin-left: 10px;\n    min-width: 200px;\n  }\n"])),(function(n){return n.disabled?"1px solid #666":"1px solid #0cf"}),(function(n){return n.disabled?"#666":"#0cf"}),(function(n){return n.disabled?"not-allowed":"pointer"}),(function(n){return!n.disabled&&"#001026"})),Un=x.a.div(Q||(Q=Object(h.a)(["\n  display: flex;\n  margin-top: 34px;\n\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n    margin-bottom: 80px;\n  }\n  @media screen and (min-width: 1025px) {\n    flex-direction: row;\n  }\n"]))),Vn=x.a.label(X||(X=Object(h.a)(['\n  color: #aaa;\n  font-family: "Mukta";\n  font-size: 1em;\n  font-weight: 700;\n  margin-right: 15px;\n']))),Wn=(x.a.div(Y||(Y=Object(h.a)(["\n  @media screen and (max-width: 768px) {\n    /* grid-template-rows: 1fr 1fr; */\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    /* grid-template-columns: 1fr 2fr; */\n  }\n\n  @media screen and (min-width: 1025px) {\n    flex-grow: 1;\n    text-align: left;\n  }\n"]))),x.a.div(nn||(nn=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  @media screen and (min-width: 1025px) {\n    opacity: ",";\n    transition: opacity 1s ease;\n  }\n"])),(function(n){return n.fade.in?1:0}))),Pn=x.a.img(gn||(gn=Object(h.a)(["\n  height: 42px;\n  width: 42px;\n  filter: brightness(0) invert(0.9);\n\n  @media screen and (max-width: 768px) {\n    /* margin-top: 40px; */\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    /* max-width: 80%; */\n  }\n\n  @media screen and (min-width: 1025px) {\n    margin-top: 80px;\n  }\n"])));function qn(){return Object(pn.jsx)(Sn,{href:"https://twitter.com/nfkey1",target:"_blank",children:Object(pn.jsx)(Pn,{src:"/twitter.png"})})}function Kn(n){var e=n.fade,t=n.setFade,a=n.setView;return Object(i.useEffect)((function(){t({in:!0})}),[]),Object(pn.jsx)(i.Fragment,{children:Object(pn.jsxs)(yn,{children:[Object(pn.jsxs)(vn,{children:["NF",Object(pn.jsx)(kn,{children:"Key"})]}),Object(pn.jsxs)(Wn,{fade:e,children:[Object(pn.jsx)(Tn,{children:"Create Ethereum token based access for your content."}),Object(pn.jsx)(_n,{customMobileWidth:"85%",children:Object(pn.jsx)(Cn,{style:{color:"#aeaeae"},children:"NFKey is a free tool that allows you to create shortlinks to your private Web 2.0 content. These links require visitors to verify ownership of a specific Ethereum token or NFT in order to access the content. No code. No gas fees."})}),Object(pn.jsx)(Un,{children:Object(pn.jsx)(In,{onClick:function(){t({in:!1}),setTimeout((function(){return a(an)}),800)},children:"Create new shortlink"})}),Object(pn.jsx)(qn,{})]})]})})}function Bn(n){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",i=1;i<=n;i++)t+=e[Math.floor(Math.random()*e.length)];return t}function Dn(n){var e=n.fade,t=n.setFade,a=n.setNewLink,r=n.setView,c=window.document.location,o=(c.host,c.pathname),f=Object(i.useState)(""),u=Object(s.a)(f,2),h=u[0],p=u[1],m=Object(i.useState)("/"!==o?String(o).substring(1):Bn(6)),x=Object(s.a)(m,2),j=x[0],b=x[1],O=Object(i.useState)(""),w=Object(s.a)(O,2),g=w[0],y=w[1],v=Object(i.useState)(""),k=Object(s.a)(v,2),S=k[0],T=k[1],_=Object(i.useRef)(),C=g===on||g===dn||g===ln,F=!hn.DESTINATION_URL.test(h),E=!hn.SMART_CONTRACT.test(S),N=g===sn&&!E&!F;return Object(i.useEffect)((function(){return clearTimeout(_.current),String(j).length<3?y(dn):hn.URL_PATH.test(String(j))?(y(un),void(_.current=setTimeout((function(){y(fn),setTimeout((function(){l("nfkey.to",j).then((function(n){n.data.destination_url?y(on):y(sn)})).catch((function(n){return alert("error getting link: ".concat(n))}))}),1e3)}),1e3))):y(ln)}),[j]),Object(i.useEffect)((function(){setTimeout((function(){return t({in:!0})}),0)}),[]),Object(pn.jsxs)(yn,{children:[Object(pn.jsx)(Sn,{href:"https://nfkey.to",children:Object(pn.jsxs)(vn,{children:["NF",Object(pn.jsx)(kn,{children:"Key"})]})}),Object(pn.jsxs)(Wn,{fade:e,children:[Object(pn.jsxs)(_n,{style:{marginTop:"30px"},children:[Object(pn.jsx)(Cn,{children:"Please complete all of the fields below."}),Object(pn.jsxs)(Rn,{children:[Object(pn.jsxs)(An,{children:[Object(pn.jsxs)(zn,{children:[Object(pn.jsx)(Nn,{children:"Shortlink"}),Object(pn.jsx)(Vn,{children:"nfkey.to/"})]}),Object(pn.jsx)(Mn,{children:Object(pn.jsx)(Fn,{customWidth:"40%",isError:C,onChange:function(n){b(n.target.value)},spellCheck:!1,value:j})})]}),Object(pn.jsx)(Ln,{children:Object(pn.jsx)(Mn,{children:Object(pn.jsx)(En,{isError:C,isSuccess:g===sn,children:g})})}),Object(pn.jsxs)(An,{children:[Object(pn.jsx)(zn,{children:Object(pn.jsx)(Nn,{children:"Destination URL"})}),Object(pn.jsx)(Mn,{children:Object(pn.jsx)(Fn,{isError:h&&F,onChange:function(n){p(n.target.value)},placeholder:"https://example.com",spellCheck:!1,value:h})})]}),Object(pn.jsxs)(An,{children:[Object(pn.jsx)(zn,{children:Object(pn.jsx)(Nn,{children:"Smart contract address"})}),Object(pn.jsx)(Mn,{children:Object(pn.jsx)(Fn,{isError:S&&E,onChange:function(n){T(n.target.value)},placeholder:"Token required for access",spellCheck:!1,value:S})})]}),Object(pn.jsxs)(Un,{children:[Object(pn.jsx)(In,{onClick:function(){b(Bn(6))},children:"Randomize URL"}),Object(pn.jsx)(In,{disabled:!N,onClick:function(){(function(n){var e=n.host,t=n.pathname,i=n.destination_url,a=n.requirement_smart_contract;return d.a.post("api/link",{host:e,pathname:t,requirement_smart_contract:a,destination_url:i})})({host:"nfkey.to",pathname:j,requirement_smart_contract:S,destination_url:h}).then((function(n){a({host:"nfkey.to",pathname:j}),t({in:!1}),setTimeout((function(){return r(rn)}),800)})).catch((function(n){return alert("There was a problem.")}))},children:"Create Shortlink"})]})]})]}),Object(pn.jsx)(qn,{})]})]})}function Zn(n){var e=n.fade,t=n.setFade,a=n.newLink;return Object(i.useEffect)((function(){setTimeout((function(){return t({in:!0})}),0)}),[]),Object(pn.jsxs)(yn,{children:[Object(pn.jsx)(Sn,{href:"https://nfkey.to",children:Object(pn.jsxs)(vn,{style:{marginBottom:"20px"},children:["NF",Object(pn.jsx)(kn,{children:"Key"})]})}),Object(pn.jsxs)(Wn,{fade:e,children:[Object(pn.jsxs)(Tn,{children:[Object(pn.jsxs)("a",{href:"https://".concat(a.host,"/").concat(a.pathname),children:[a.host,"/",a.pathname]})," ","is now live!"]}),Object(pn.jsx)(qn,{})]})]})}var Hn=function(){var n=window.document.location,e=n.host,t=n.pathname,a="/"!==t,r=Object(i.useState)(),c=Object(s.a)(r,2),o=c[0],f=c[1],u=Object(i.useState)(en),h=Object(s.a)(u,2),p=h[0],m=h[1],x=Object(i.useState)({}),j=Object(s.a)(x,2),b=j[0],O=j[1],w=Object(i.useState)({in:!1}),g=Object(s.a)(w,2),y=g[0],v=g[1];return Object(i.useEffect)((function(){a&&l(e,String(t).substring(1)).then((function(n){var e=n.data;e.destination_url?(f(e),m(en)):m(cn)})).catch((function(n){return alert("error getting link: ".concat(n))}))}),[]),Object(i.useEffect)((function(){p!==cn&&p!==an||function(n){var e=n.page;d.a.post("api/visit",{page:e})}({page:p}),p===tn&&(document.getElementById("if").contentWindow.document.location=o.destination_url)}),[p]),Object(pn.jsxs)("div",{className:"App",children:[p===en&&Object(pn.jsx)(wn,{link:o,setView:m}),p===tn&&Object(pn.jsx)("iframe",{id:"if",frameborder:"0",style:{height:"100vh",width:"100%"}}),p===an&&Object(pn.jsx)(Dn,{fade:y,setFade:v,setNewLink:O,setView:m}),p===rn&&Object(pn.jsx)(Zn,{fade:y,setFade:v,newLink:b,setView:m}),p===cn&&Object(pn.jsx)(Kn,{fade:y,setFade:v,setView:m})]})},Jn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,609)).then((function(e){var t=e.getCLS,i=e.getFID,a=e.getFCP,r=e.getLCP,c=e.getTTFB;t(n),i(n),a(n),r(n),c(n)}))};c.a.render(Object(pn.jsx)(a.a.StrictMode,{children:Object(pn.jsx)(Hn,{})}),document.getElementById("root")),Jn()}},[[605,1,2]]]);
//# sourceMappingURL=main.a50f92a9.chunk.js.map