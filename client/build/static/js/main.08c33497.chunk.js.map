{"version":3,"sources":["lib/api.js","lib/wallet.js","views/const.js","views/Verify.js","views/styles.js","components/Footer.js","views/Homepage.js","lib/id.js","views/NewLinkForm.js","views/NewLinkSuccess.js","App.js","reportWebVitals.js","index.js"],"names":["getLink","host","path","axios","get","provider","web3Modal","Web3Modal","network","cacheProvider","theme","providerOptions","coinbasewallet","package","CoinbaseWalletSDK","options","appName","infuraId","process","walletconnect","WalletConnectProvider","connectWallet","a","connect","instance","ethers","providers","Web3Provider","getSignatureAndAddress","message","signer","getSigner","signMessage","signature","getAddress","address","verifySignature","utils","verifyMessage","VIEWS","URL_FEEDBACK","REGEX","URL_PATH","DESTINATION_URL","SMART_CONTRACT","Container","styled","div","Title","h1","Description","h2","Highlighted","span","Button","button","Verify","link","setView","useState","ethAccount","setEthAccount","isAwaitingVerification","setIsAwaitingVerification","isFailedToVerify","setIsFailedToVerify","handleConnect","wallet","verifyParams","console","log","useEffect","id","then","data","allow","onClick","UndecoratedLink","BodyContainer","p","customMobileWidth","BodyText","StyledInput","input","isError","customWidth","InputFeedbackText","isSuccess","StyledLabel","label","FormContainer","FormLeftColumn","FormRightColumn","FormRow","ErrorTextContainer","StyledButton","disabled","ButtonContainer","NFKeyURL","FadeBlock","fade","in","TwitterImage","img","Footer","href","target","src","Homepage","setFade","style","color","setTimeout","generateId","length","chars","i","Math","floor","random","NewLinkForm","setNewLink","pathname","window","document","location","destinationUrl","setDestinationUrl","String","substring","urlPath","setUrlPath","urlPathFeedback","setUrlPathFeedback","smartContractAddress","setSmartContractAddress","typingTimer","useRef","isUrlPathError","isDestinationUrlError","test","isSmartContractAddressError","isAbleToSave","clearTimeout","current","destination_url","catch","e","alert","marginTop","onChange","value","spellCheck","placeholder","url","requirement_smart_contract","post","createLink","toLowerCase","_","NewLinkSuccess","newLink","marginBottom","App","isPath","setLink","view","page","createVisit","getElementById","contentWindow","className","frameborder","height","width","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.08c33497.chunk.js","sourcesContent":["import axios from \"axios\"\n\nexport function getLink(host, path) {\n  return axios.get(`api/link?host=${host}&path=${path}`, {})\n}\n\nexport function createLink({\n  host,\n  pathname,\n  destination_url,\n  requirement_smart_contract,\n}) {\n  return axios.post(\"api/link\", {\n    host,\n    pathname,\n    requirement_smart_contract,\n    destination_url,\n  })\n}\n\nexport function createVisit({ page }) {\n  return axios.post(\"api/visit\", {\n    page,\n  })\n}\n","import { ethers } from \"ethers\"\nimport Web3Modal from \"web3modal\"\nimport CoinbaseWalletSDK from \"@coinbase/wallet-sdk\"\nimport WalletConnectProvider from \"@walletconnect/web3-provider\"\n\nlet provider\n\nconst web3Modal = new Web3Modal({\n  network: \"mainnet\",\n  cacheProvider: false,\n  theme: \"dark\",\n  providerOptions: {\n    coinbasewallet: {\n      package: CoinbaseWalletSDK,\n      options: {\n        appName: \"NFKey\",\n        infuraId: process.env.REACT_APP_INFURA_ID,\n      },\n    },\n    walletconnect: {\n      package: WalletConnectProvider,\n      options: {\n        infuraId: process.env.REACT_APP_INFURA_ID,\n      },\n    },\n  },\n})\n\nexport async function connectWallet() {\n  const instance = await web3Modal.connect()\n  provider = new ethers.providers.Web3Provider(instance)\n}\n\nexport async function getSignatureAndAddress(message) {\n  const signer = provider.getSigner()\n  const signature = await signer.signMessage(message)\n  const address = await signer.getAddress()\n  return { address, message, signature }\n}\n\nexport function verifySignature({ address, message, signature }) {\n  const resolvedAddress = ethers.utils.verifyMessage(message, signature)\n  return address === resolvedAddress\n}\n","//VIEWS\nexport const VIEWS = {\n  LOADING: \"loading\",\n  VERIFYING: \"verifying\",\n  VERIFIED: \"verified\",\n  NEWLINKFORM: \"newlink-form\",\n  NEWLINKSUCCESS: \"newlink-success\",\n  HOMEPAGE: \"homepage\",\n}\n\n// URL PATH FEEDBACK\nexport const URL_FEEDBACK = {\n  IS_AVAILALABLE: \"This URL is available!\",\n  IS_NOT_AVAILABLE: \"Sorry, this URL is already taken.\",\n  MINIMUM_3_CHARS: \"URL path must be at least 3 characters.\",\n  INVALID: \"Invalid URL path\",\n  CHECKING_AVAILABILITY: \"Checking availability...\",\n  BLANK: \" \",\n}\n\n// REGEX\nexport const REGEX = {\n  URL_PATH: /^[a-zA-Z0-9-_]*$/,\n  DESTINATION_URL:\n    /(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,18}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/,\n  SMART_CONTRACT: /^0x[a-fA-F0-9]{40}$/,\n}\n","import { Fragment, useEffect, useState } from \"react\"\nimport styled from \"styled-components\"\nimport * as wallet from \"../lib/wallet\"\nimport { VIEWS } from \"./const\"\nimport axios from \"axios\"\n\nconst Container = styled.div`\n  text-align: center;\n  width: 100%;\n\n  @media screen and (max-width: 768px) {\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    position: absolute;\n    /* top: 30%; */\n  }\n  @media screen and (min-width: 1025px) {\n    position: absolute;\n    top: 25%;\n  }\n`\n\nconst Title = styled.h1`\n  font-family: \"Archivo Black\";\n  font-size: 72px;\n  color: #fff;\n  /* margin-bottom: 0px; */\n`\n\nconst Description = styled.h2`\n  color: #ddd;\n  font-family: \"Raleway\";\n`\n\nconst SmallText = styled.span`\n  display: block;\n  color: #aaa;\n  font-family: \"Mukta\";\n  margin-top: 40px;\n  font-size: 20px;\n`\n\nconst Highlighted = styled.span`\n  color: #0df;\n`\n\nconst Button = styled.button`\n  background-color: transparent;\n  border: 2px solid #ddd;\n  color: #ddd;\n  cursor: pointer;\n  font-family: \"Mukta\";\n  font-size: 1em;\n  font-weight: 700;\n  margin-top: 50px;\n  text-transform: uppercase;\n  padding: 15px;\n`\n\nexport function Verify({ link, setView }) {\n  const [ethAccount, setEthAccount] = useState()\n  const [isAwaitingVerification, setIsAwaitingVerification] = useState(false)\n  const [isFailedToVerify, setIsFailedToVerify] = useState(false)\n\n  const handleConnect = async () => {\n    try {\n      await wallet.connectWallet()\n      const verifyParams = await wallet.getSignatureAndAddress(\n        \"Welcome to NFKey!\\n\\nPlease click Sign to verify that you own this wallet. This will not result in a blockchain transaction or incur any gas fees.\"\n      )\n      if (wallet.verifySignature(verifyParams)) {\n        setEthAccount(verifyParams.address)\n      }\n    } catch (e) {\n      console.log(e)\n      setIsAwaitingVerification(false)\n      setIsFailedToVerify(true)\n    }\n  }\n\n  useEffect(() => {\n    if (ethAccount) {\n      setIsAwaitingVerification(true)\n      axios\n        .get(`api/verify?link_id=${link.id}&wallet_address=${ethAccount}`)\n        .then(({ data: verdict }) => {\n          if (verdict.allow) setView(VIEWS.VERIFIED)\n          else {\n            setIsAwaitingVerification(false)\n            setIsFailedToVerify(true)\n          }\n        })\n    }\n  }, [ethAccount])\n\n  return (\n    <Container>\n      <Title>\n        NF<Highlighted>Key</Highlighted>\n      </Title>\n      {isAwaitingVerification && <Description>Verifying...</Description>}\n      {isFailedToVerify && <Description>Verification failed.</Description>}\n      {!isFailedToVerify && !isAwaitingVerification && (\n        <Fragment>\n          <Description>\n            This content requires ownership of a specific ERC-721 token.\n          </Description>\n          <Description>\n            Please verify ownership of the required token(s).\n          </Description>\n          <Button onClick={handleConnect}>Verify Ownership</Button>\n        </Fragment>\n      )}\n    </Container>\n  )\n}\n","import styled from \"styled-components\"\n\nexport const Container = styled.div`\n  cursor: default;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  width: 100%;\n\n  @media screen and (max-width: 768px) {\n    /* margin-top: 15%; */\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    position: absolute;\n    top: 25%;\n    width: 100%;\n  }\n\n  @media screen and (min-width: 1025px) {\n    position: absolute;\n    top: 25%;\n  }\n`\n\nexport const Title = styled.h1`\n  font-family: \"Archivo Black\";\n  font-size: 72px;\n  color: #eee;\n  margin-bottom: 0px;\n`\n\nexport const Highlighted = styled.span`\n  color: #0cf;\n`\n\nexport const UndecoratedLink = styled.a`\n  text-decoration: none;\n\n  :hover {\n    text-decoration: none;\n  }\n`\n\nexport const Description = styled.h2`\n  color: #ddd;\n  font-family: \"Raleway\";\n  padding-left: 20px;\n  padding-right: 20px;\n\n  @media screen and (max-width: 768px) {\n    font-size: 1.5em;\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    font-size: 1.8em;\n  }\n\n  @media screen and (min-width: 1025px) {\n    font-size: 2em;\n  }\n`\n\nexport const BodyContainer = styled.div`\n  @media screen and (max-width: 768px) {\n    width: ${(p) => (p.customMobileWidth ? p.customMobileWidth : null)};\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    max-width: 80%;\n  }\n\n  @media screen and (min-width: 1025px) {\n    max-width: 700px;\n  }\n`\n\nexport const BodyText = styled.span`\n  color: #ddd;\n  font-family: \"Raleway\";\n  font-size: 18px;\n`\n\nexport const StyledInput = styled.input`\n  background-color: #112;\n  color: #ddd;\n  border: 1px solid ${(p) => (p.isError ? \"#d36\" : \"#ddd\")};\n  font-family: \"Mukta\";\n  font-size: 1em;\n  padding: 6px;\n  padding-left: 10px;\n\n  @media screen and (min-width: 1025px) {\n    width: ${(p) => (p.customWidth ? p.customWidth : \"100%\")};\n  }\n`\n\nexport const InputFeedbackText = styled.span`\n  color: ${(p) => (p.isError ? \"#d36\" : p.isSuccess ? \"#3d6\" : \"#aaa\")};\n  font-family: \"Mukta\";\n  font-size: 14px;\n  justify-self: flex-start;\n  white-space: pre;\n`\n\nexport const StyledLabel = styled.label`\n  color: #ddd;\n  margin-right: 15px;\n  font-family: \"Mukta\";\n  font-size: 1em;\n  font-weight: 700;\n  text-transform: uppercase;\n`\n\nexport const FormContainer = styled.div`\n  margin-top: 40px;\n`\n\nexport const FormLeftColumn = styled.div`\n  display: flex;\n  /* justify-content: flex-end; */\n  align-items: center;\n\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n    justify-content: center;\n    width: 100%;\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    justify-content: flex-end;\n  }\n\n  @media screen and (min-width: 1025px) {\n    justify-content: flex-end;\n  }\n`\n\nexport const FormRightColumn = styled.div`\n  display: flex;\n\n  /* text-align: left; */\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n    align-items: stretch;\n    /* grid-row-start: 2; */\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    grid-column-start: 2;\n  }\n\n  @media screen and (min-width: 1025px) {\n    justify-content: flex-start;\n    grid-column-start: 2;\n  }\n`\n\nexport const FormRow = styled.div`\n  display: grid;\n  @media screen and (max-width: 768px) {\n    grid-template-rows: 1fr 1fr;\n    /* margin-bottom: 10px; */\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    grid-template-columns: 1fr 2fr;\n  }\n\n  @media screen and (min-width: 1025px) {\n    grid-template-columns: 1fr 2fr;\n    margin-bottom: 20px;\n  }\n`\n\nexport const ErrorTextContainer = styled.div`\n  display: grid;\n  @media screen and (max-width: 768px) {\n    grid-template-rows: 1fr 1fr;\n    margin-top: -10px;\n    margin-bottom: -10px;\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    grid-template-columns: 1fr 2fr;\n  }\n\n  @media screen and (min-width: 1025px) {\n    margin-top: -20px;\n    grid-template-columns: 1fr 2fr;\n    margin-bottom: 20px;\n  }\n`\n\nexport const StyledButton = styled.button`\n  background-color: transparent;\n  border: ${(p) => (p.disabled ? \"1px solid #666\" : \"1px solid #0cf\")};\n  color: ${(p) => (p.disabled ? \"#666\" : \"#0cf\")};\n  cursor: ${(p) => (p.disabled ? \"not-allowed\" : \"pointer\")};\n  font-family: \"Mukta\";\n  font-size: 1em;\n  font-weight: 700;\n  padding: 7px;\n  text-transform: uppercase;\n\n  :hover {\n    background-color: ${(p) => !p.disabled && \"#001026\"};\n  }\n\n  @media screen and (max-width: 768px) {\n    flex-grow: 1;\n    margin-top: 10px;\n    /* width: 100%; */\n  }\n  @media screen and (min-width: 1025px) {\n    flex-grow: 1;\n    margin-left: 10px;\n    min-width: 200px;\n  }\n`\n\nexport const ButtonContainer = styled.div`\n  display: flex;\n  margin-top: 34px;\n\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n    margin-bottom: 80px;\n  }\n  @media screen and (min-width: 1025px) {\n    flex-direction: row;\n  }\n`\n\nexport const NFKeyURL = styled.label`\n  color: #aaa;\n  font-family: \"Mukta\";\n  font-size: 1em;\n  font-weight: 700;\n  margin-right: 15px;\n`\n\nexport const NFKeyURLSpacer = styled.div`\n  @media screen and (max-width: 768px) {\n    /* grid-template-rows: 1fr 1fr; */\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    /* grid-template-columns: 1fr 2fr; */\n  }\n\n  @media screen and (min-width: 1025px) {\n    flex-grow: 1;\n    text-align: left;\n  }\n`\nexport const FadeBlock = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  @media screen and (min-width: 1025px) {\n    opacity: ${(p) => (p.fade.in ? 1 : 0)};\n    transition: opacity 1s ease;\n  }\n`\n","import styled from \"styled-components\"\nimport { UndecoratedLink } from \"../views/styles\"\n\nconst TwitterImage = styled.img`\n  height: 42px;\n  width: 42px;\n  filter: brightness(0) invert(0.9);\n\n  @media screen and (max-width: 768px) {\n    /* margin-top: 40px; */\n  }\n\n  @media screen and (min-width: 769px) and (max-width: 1024px) {\n    /* max-width: 80%; */\n  }\n\n  @media screen and (min-width: 1025px) {\n    margin-top: 80px;\n  }\n`\nexport function Footer() {\n  return (\n    <UndecoratedLink href=\"https://twitter.com/nfkey1\" target=\"_blank\">\n      <TwitterImage src={process.env.PUBLIC_URL + \"/twitter.png\"} />\n    </UndecoratedLink>\n  )\n}\n","import {\n  BodyContainer,\n  BodyText,\n  ButtonContainer,\n  Container,\n  Description,\n  FadeBlock,\n  Highlighted,\n  StyledButton,\n  Title,\n} from \"./styles\"\nimport { VIEWS } from \"./const\"\nimport { Fragment, useEffect } from \"react\"\nimport { Footer } from \"../components/Footer\"\n\nexport function Homepage({ fade, setFade, setView }) {\n  useEffect(() => {\n    setFade({ in: true })\n  }, [])\n  return (\n    <Fragment>\n      <Container>\n        <Title>\n          NF<Highlighted>Key</Highlighted>\n        </Title>\n        <FadeBlock fade={fade}>\n          <Description>\n            Create Ethereum token based access for your content.\n          </Description>\n          <BodyContainer customMobileWidth={\"85%\"}>\n            <BodyText style={{ color: \"#aeaeae\" }}>\n              NFKey is a free tool that allows you to create shortlinks to your\n              private Web 2.0 content. These links require visitors to verify\n              ownership of a specific Ethereum token or NFT in order to access\n              the content. No code. No gas fees.\n            </BodyText>\n          </BodyContainer>\n          <ButtonContainer>\n            <StyledButton\n              onClick={() => {\n                setFade({ in: false })\n                setTimeout(() => setView(VIEWS.NEWLINKFORM), 800)\n              }}\n            >\n              Create new shortlink\n            </StyledButton>\n          </ButtonContainer>\n          <Footer />\n        </FadeBlock>\n      </Container>\n    </Fragment>\n  )\n}\n","export function generateId(length) {\n  const chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\"\n  let id = \"\"\n  for (let i = 1; i <= length; i++) {\n    id += chars[Math.floor(Math.random() * chars.length)]\n  }\n  return id\n}\n","import { useEffect, useRef, useState } from \"react\"\nimport { generateId } from \"../lib/id\"\nimport { createLink, getLink } from \"../lib/api\"\nimport {\n  Container,\n  BodyContainer,\n  BodyText,\n  ButtonContainer,\n  ErrorTextContainer,\n  FadeBlock,\n  FormContainer,\n  FormLeftColumn,\n  FormRightColumn,\n  FormRow,\n  Highlighted,\n  InputFeedbackText,\n  NFKeyURL,\n  StyledButton,\n  StyledInput,\n  StyledLabel,\n  Title,\n  UndecoratedLink,\n} from \"./styles\"\nimport { REGEX, URL_FEEDBACK, VIEWS } from \"./const\"\nimport { Footer } from \"../components/Footer\"\n\nexport function NewLinkForm({ fade, setFade, setNewLink, setView }) {\n  const { pathname } = window.document.location\n  const [destinationUrl, setDestinationUrl] = useState(\"\")\n  const [urlPath, setUrlPath] = useState(\n    pathname !== \"/\" ? String(pathname).substring(1) : generateId(6)\n  )\n  const [urlPathFeedback, setUrlPathFeedback] = useState(\"\")\n  const [smartContractAddress, setSmartContractAddress] = useState(\"\")\n  const typingTimer = useRef()\n\n  const isUrlPathError =\n    urlPathFeedback === URL_FEEDBACK.IS_NOT_AVAILABLE ||\n    urlPathFeedback === URL_FEEDBACK.MINIMUM_3_CHARS ||\n    urlPathFeedback === URL_FEEDBACK.INVALID\n\n  const isDestinationUrlError = !REGEX.DESTINATION_URL.test(destinationUrl)\n  const isSmartContractAddressError =\n    !REGEX.SMART_CONTRACT.test(smartContractAddress)\n\n  const isAbleToSave =\n    urlPathFeedback === URL_FEEDBACK.IS_AVAILALABLE &&\n    !isSmartContractAddressError & !isDestinationUrlError\n\n  const handleRandomizeClick = () => {\n    setUrlPath(generateId(6))\n  }\n\n  const convertUrlToHttps = (url) => {\n    return String(url).toLowerCase().substring(0, 5) !== \"https\"\n      ? `https:${String(url).substring(5)}`\n      : url\n  }\n\n  const handleCreateClick = () => {\n    createLink({\n      host: \"nfkey.to\",\n      pathname: urlPath,\n      requirement_smart_contract: smartContractAddress,\n      destination_url: convertUrlToHttps(destinationUrl),\n    })\n      .then((_) => {\n        setNewLink({ host: \"nfkey.to\", pathname: urlPath })\n        setFade({ in: false })\n        setTimeout(() => setView(VIEWS.NEWLINKSUCCESS), 800)\n      })\n      .catch((e) => alert(`There was a problem.`))\n  }\n\n  const handleDestinationUrlChange = (e) => {\n    setDestinationUrl(e.target.value)\n  }\n\n  const handleUrlPathChange = (e) => {\n    setUrlPath(e.target.value)\n  }\n\n  const handleSmartContractAddressChange = (e) => {\n    setSmartContractAddress(e.target.value)\n  }\n\n  useEffect(() => {\n    clearTimeout(typingTimer.current)\n    if (String(urlPath).length < 3) {\n      return setUrlPathFeedback(URL_FEEDBACK.MINIMUM_3_CHARS)\n    }\n    if (!REGEX.URL_PATH.test(String(urlPath))) {\n      return setUrlPathFeedback(URL_FEEDBACK.INVALID)\n    }\n\n    setUrlPathFeedback(URL_FEEDBACK.BLANK)\n    typingTimer.current = setTimeout(() => {\n      setUrlPathFeedback(URL_FEEDBACK.CHECKING_AVAILABILITY)\n      setTimeout(() => {\n        getLink(\"nfkey.to\", urlPath)\n          .then(({ data: link }) => {\n            if (link.destination_url) {\n              setUrlPathFeedback(URL_FEEDBACK.IS_NOT_AVAILABLE)\n            } else {\n              setUrlPathFeedback(URL_FEEDBACK.IS_AVAILALABLE)\n            }\n          })\n          .catch((e) => alert(`error getting link: ${e}`))\n      }, 1000)\n    }, 1000)\n  }, [urlPath])\n\n  useEffect(() => {\n    setTimeout(() => setFade({ in: true }), 0)\n  }, [])\n\n  return (\n    <Container>\n      <UndecoratedLink href=\"https://nfkey.to\">\n        <Title>\n          NF<Highlighted>Key</Highlighted>\n        </Title>\n      </UndecoratedLink>\n      <FadeBlock fade={fade}>\n        <BodyContainer style={{ marginTop: \"30px\" }}>\n          <BodyText>Please complete all of the fields below.</BodyText>\n          <FormContainer>\n            <FormRow>\n              <FormLeftColumn>\n                <StyledLabel>Shortlink</StyledLabel>\n                <NFKeyURL>nfkey.to/</NFKeyURL>\n              </FormLeftColumn>\n              <FormRightColumn>\n                <StyledInput\n                  customWidth={\"40%\"}\n                  isError={isUrlPathError}\n                  onChange={handleUrlPathChange}\n                  spellCheck={false}\n                  value={urlPath}\n                />\n              </FormRightColumn>\n            </FormRow>\n            <ErrorTextContainer>\n              <FormRightColumn>\n                <InputFeedbackText\n                  isError={isUrlPathError}\n                  isSuccess={urlPathFeedback === URL_FEEDBACK.IS_AVAILALABLE}\n                >\n                  {urlPathFeedback}\n                </InputFeedbackText>\n              </FormRightColumn>\n            </ErrorTextContainer>\n            <FormRow>\n              <FormLeftColumn>\n                <StyledLabel>Destination URL</StyledLabel>\n              </FormLeftColumn>\n              <FormRightColumn>\n                <StyledInput\n                  isError={destinationUrl && isDestinationUrlError}\n                  onChange={handleDestinationUrlChange}\n                  placeholder={\"https://example.com\"}\n                  spellCheck={false}\n                  value={destinationUrl}\n                />\n              </FormRightColumn>\n            </FormRow>\n            <FormRow>\n              <FormLeftColumn>\n                <StyledLabel>Smart contract address</StyledLabel>\n              </FormLeftColumn>\n              <FormRightColumn>\n                <StyledInput\n                  isError={smartContractAddress && isSmartContractAddressError}\n                  onChange={handleSmartContractAddressChange}\n                  placeholder={\"Token required for access\"}\n                  spellCheck={false}\n                  value={smartContractAddress}\n                />\n              </FormRightColumn>\n            </FormRow>\n            <ButtonContainer>\n              <StyledButton onClick={handleRandomizeClick}>\n                Randomize URL\n              </StyledButton>\n              <StyledButton\n                disabled={!isAbleToSave}\n                onClick={handleCreateClick}\n              >\n                Create Shortlink\n              </StyledButton>\n            </ButtonContainer>\n          </FormContainer>\n        </BodyContainer>\n        <Footer />\n      </FadeBlock>\n    </Container>\n  )\n}\n","import {\n  Container,\n  FadeBlock,\n  UndecoratedLink,\n  Title,\n  Highlighted,\n  Description,\n} from \"./styles\"\nimport { Footer } from \"../components/Footer\"\nimport { useEffect } from \"react\"\n\nexport function NewLinkSuccess({ fade, setFade, newLink }) {\n  useEffect(() => {\n    setTimeout(() => setFade({ in: true }), 0)\n  }, [])\n\n  return (\n    <Container>\n      <UndecoratedLink href=\"https://nfkey.to\">\n        <Title style={{ marginBottom: \"20px\" }}>\n          NF<Highlighted>Key</Highlighted>\n        </Title>\n      </UndecoratedLink>\n      <FadeBlock fade={fade}>\n        <Description>\n          <a href={`https://${newLink.host}/${newLink.pathname}`}>\n            {newLink.host}/{newLink.pathname}\n          </a>{\" \"}\n          is now live!\n        </Description>\n        <Footer />\n      </FadeBlock>\n    </Container>\n  )\n}\n","import \"./App.css\"\nimport { useEffect, useState } from \"react\"\nimport { createVisit, getLink } from \"./lib/api\"\nimport { Verify } from \"./views/Verify\"\nimport { Homepage } from \"./views/Homepage\"\nimport { VIEWS } from \"./views/const\"\nimport { NewLinkForm } from \"./views/NewLinkForm\"\nimport { NewLinkSuccess } from \"./views/NewLinkSuccess\"\n\nfunction App() {\n  const { host, pathname } = window.document.location\n  const isPath = pathname !== \"/\"\n  const [link, setLink] = useState()\n  const [view, setView] = useState(isPath ? VIEWS.LOADING : VIEWS.HOMEPAGE)\n  const [newLink, setNewLink] = useState({})\n  const [fade, setFade] = useState({ in: false })\n\n  useEffect(() => {\n    if (isPath) {\n      getLink(host, String(pathname).substring(1))\n        .then(({ data: link }) => {\n          if (link.destination_url) {\n            setLink(link)\n            setView(VIEWS.VERIFYING)\n          } else {\n            setView(VIEWS.HOMEPAGE)\n          }\n        })\n        .catch((e) => alert(`error getting link: ${e}`))\n    }\n  }, [])\n\n  useEffect(() => {\n    if (view === VIEWS.HOMEPAGE || view === VIEWS.NEWLINKFORM) {\n      createVisit({ page: view })\n    }\n    if (view === VIEWS.VERIFIED) {\n      document.getElementById(\"if\").contentWindow.document.location =\n        link.destination_url\n    }\n  }, [view])\n\n  return (\n    <div className=\"App\">\n      {view === VIEWS.VERIFYING && <Verify link={link} setView={setView} />}\n      {view === VIEWS.VERIFIED && (\n        <iframe\n          id=\"if\"\n          frameborder=\"0\"\n          style={{ height: \"100vh\", width: \"100%\" }}\n        ></iframe>\n      )}\n      {view === VIEWS.NEWLINKFORM && (\n        <NewLinkForm\n          fade={fade}\n          setFade={setFade}\n          setNewLink={setNewLink}\n          setView={setView}\n        />\n      )}\n      {view === VIEWS.NEWLINKSUCCESS && (\n        <NewLinkSuccess\n          fade={fade}\n          setFade={setFade}\n          newLink={newLink}\n          setView={setView}\n        />\n      )}\n      {view === VIEWS.HOMEPAGE && (\n        <Homepage fade={fade} setFade={setFade} setView={setView} />\n      )}\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\nimport reportWebVitals from \"./reportWebVitals\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}